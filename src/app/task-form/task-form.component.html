<div class="p-3">
  <div class="modal-title">
    <div class="text-center">
      <h5>{{ action }} Task</h5>
    </div>
  </div>

  <ng-container *ngIf="isDelete; else notDelete">
    <div class="text-center">
      <p>Are you sure you want to delete this task?</p>
      <div class="btn-holder">
        <app-reusable-button
          [buttonText]="'No, Cancel'"
          (click)="disolveModal()"
          [extraClass]="['btn-cancel', 'btn-rounded']"
        ></app-reusable-button>
        <app-reusable-button
          [buttonText]="'Yes, Delete'"
          [isLoading]="isLoading"
          [disabled]="isLoading"
          (click)="deleteTask(data.item)"
          [extraClass]="['btn-danger', 'btn-rounded']"
        ></app-reusable-button>
      </div>
    </div>
  </ng-container>

  <ng-template #notDelete>
    <div>
      <form [formGroup]="TaskForm" (submit)="submitTask(TaskForm.value)">
        <div class="form-row mb-3">
          <div class="col">
            <app-reusable-input
              [controlName]="'title'"
              [placeholder]="'title'"
              [type]="'text'"
              [formGroup]="TaskForm"
            ></app-reusable-input>
          </div>
          <div class="col">
            <app-reusable-input
              [controlName]="'dueDate'"
              [placeholder]="'dueDate'"
              [type]="'date'"
              [formGroup]="TaskForm"
            ></app-reusable-input>
          </div>
        </div>
        <div class="form-row mb-3">
          <div class="col">
            <app-reusable-input
              [controlName]="'priority'"
              [placeholder]="'priority'"
              [type]="'select'"
              [formGroup]="TaskForm"
              [optionsList]="TaskPriority"
              [selectedOption]="task?.priority"
            ></app-reusable-input>
          </div>
          <div class="col">
            <app-reusable-input
              [controlName]="'status'"
              [placeholder]="'status'"
              [type]="'select'"
              [formGroup]="TaskForm"
              [optionsList]="TaskStatus"
              [selectedOption]="task?.status"
            ></app-reusable-input>
          </div>
        </div>
        <div class="form-row mb-3">
          <div class="col-md-9">
            <app-reusable-input
              [controlName]="'description'"
              [placeholder]="'description'"
              [type]="'text-area'"
              [formGroup]="TaskForm"
            ></app-reusable-input>
          </div>
        </div>
        <div>
          <app-reusable-button
            [buttonText]="action"
            [isLoading]="isLoading"
            [disabled]="isLoading"
          ></app-reusable-button>
        </div>
      </form>
    </div>
  </ng-template>
</div>
